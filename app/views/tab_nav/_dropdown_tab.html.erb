<%# locals: (text:, icon: nil, selected: false) -%>
<%= tag.span data: { controller: "toggle", toggle_toggle_class: tab_nav_dropdown_hidden_class }, class: tab_nav_dropdown_wrapper_classes do %>
  <%= tag.button(class: tab_nav_tab_classes(dropdown: true, selected: selected), data: { action: "click->toggle#toggle click@window->toggle#hide pagehide@window->toggle#hide" }) do %>
    <%= tag.span(tab_nav_icon_svg(icon), class: tab_nav_icon_classes) if icon.present? %>
    <%= tag.span(text, class: tab_nav_text_classes(selected: selected)) %>
    <%= tag.span(tab_nav_dropdown_caret_svg, class: tab_nav_dropdown_caret_classes) %>
  <% end %>

  <%= tag.div(class: tab_nav_dropdown_menu_classes, data: { toggle_target: "toggleable" }) do %>
    <%= yield %>
  <% end %>
<% end %>
